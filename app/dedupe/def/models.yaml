id: https://example.org/dedupe
name: dedupe-schema
title: Dedupe Data Model
description: >-
  LinkML schema for tracking hard drives, partitions, and filesystem items
  for deduplication purposes.

prefixes:
  linkml: https://w3id.org/linkml/
  dedupe: https://example.org/dedupe/

default_prefix: dedupe
default_range: string

imports:
  - linkml:types

classes:
  HardDrive:
    description: >-
      Represents a physical or logical hard drive with a unique identifier
    attributes:
      uuid:
        description: Unique identifier for the hard drive
        identifier: true
        required: true
        range: string
      label:
        description: Optional human-readable label for the drive
        required: false
        range: string
      size_bytes:
        description: Total size of the hard drive in bytes
        required: false
        range: integer

  Partition:
    description: >-
      Represents a partition on a hard drive
    attributes:
      uuid:
        description: Unique identifier for the partition
        identifier: true
        required: true
        range: string
      drive_uuid:
        description: UUID of the hard drive containing this partition
        required: true
        range: string
      label:
        description: Optional human-readable label for the partition
        required: false
        range: string
      mount_point:
        description: Optional mount point where partition is mounted
        required: false
        range: string
      size_bytes:
        description: Total size of the partition in bytes
        required: false
        range: integer

  FileItem:
    description: >-
      Represents a file or directory item found on a partition
    attributes:
      id:
        description: Unique identifier for this file item record
        identifier: true
        required: true
        range: string
      drive_uuid:
        description: UUID of the hard drive where item was found
        required: true
        range: string
      partition_uuid:
        description: UUID of the partition where item was found
        required: true
        range: string
      path:
        description: Full path of the item on the partition
        required: true
        range: string
      size_bytes:
        description: Size of the item in bytes
        required: true
        range: integer
      hash:
        description: Hash of the item contents (e.g., SHA256, MD5)
        required: true
        range: string
      hash_algorithm:
        description: Algorithm used to generate the hash
        required: false
        range: string

  CASIdentity:
    description: >-
      Content Addressable Storage identifier consisting of version and hash.
      Used to uniquely identify content by its cryptographic hash.
    attributes:
      version:
        description: CAS version string (e.g., "DZ0")
        identifier: true
        required: true
        range: string
      hash:
        description: Base58-encoded BLAKE3 hash of the content
        identifier: true
        required: true
        range: string
