# Procedure dependency definitions
# Maps procedures to their required emitters and queries
# Each procedure has a distinct name and specifies which command it handles

procedures:
  storage_inspector:
    command: InspectStorage
    emitters:
      emit_hard_drive_detected: HardDriveDetected
      emit_partition_detected: PartitionDetected
    queries:
      list_hard_drives: ListHardDrives
      list_partitions: ListPartitions

  partition_scanner:
    command: ScanPartition
    emitters:
      emit_scanned: FileItemScanned
    queries:
      list_hard_drives: ListHardDrives
      list_partitions: ListPartitions
      list_file_items: ListFileItems

  partition_mount_assigner:
    command: AssignPartitionMount
    emitters:
      emit_partition_mount_assigned: PartitionMountAssigned
    queries: {}
